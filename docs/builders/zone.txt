                .v~
               .(W      ';;'    ';' ,,   ,      ,;;  ';;   ,,
              /<M.       ;;     ,'  ''  ,;      ''    ;;   ''
\~b__________/$@|\--------;;   ,'  ';; ';;'' .,'';.   ;;  ';;  .,'';.-------.
 >@)$$$$$$$$($( )#H>======';, ,'    ;;  ;;   '' ,;;   ;;   ;;  '' ,;;===----->
/_p~~~~~~~~~~\$@|/---------';;;     ;;  ;;   .,' ;;   ;;   ;;  .,' ;;-------'
              \<M`           ;     ,;;, ';,' ';,';;.',;;, ,;;, ';,';;.'
               `(B
_________________`?____________________[ Refer�ncia para Cria��o de �reas ]___

Autores: Juliano Ravasi Ferraz <blug@mud.linkway.com.br>
	 Ana Carolina Cyrino <nemesis@mud.linkway.com.br>

$Id: zone.txt,v 1.13 2003/07/30 19:20:13 jrf Exp $

################################################################################
 �reas
################################################################################

   Os arquivos de �reas controlam como as �reas s�o configuradas, e como � o
processo de recoloca��o (reset) da �rea.  Eles integram as salas, monstros e
objetos para criar um mundo habitado.

   Os arquivos de �reas cont�m informa��es b�sicas sobre a �rea, seguido de
v�rios comandos que definem o que deve ser feito para construir a �rea, e a
cada recoloca��o da mesma.

   Os elementos do arquivo de �rea s�o dispostos desta forma:

------------------------
 #<vnum>
 <nome>~
 <topo> <vida> <modo> <flags>
 [climas]
 {comandos}
 S
------------------------

   VNUM
   O n�mero que representa a �rea.  O n�mero da �rea geralmente � o n�mero da
primeira sala dividido por 100.  Por exemplo, Midgaard, que consiste das salas
de n�mero 3000 at� 3099, � a �rea 30.

   NOME
   O nome da �rea.

   TOPO
   � o n�mero da sala mais alta da �rea.  � usado para, internamente, definir
onde termina uma �rea e come�a a seguinte.  Por exemplo, a primeira sala da
Zona Newbie � 18600, e a �ltima sala � 18647, mas todo o bloco 186xx foi
reservado para esta �rea, ent�o o valor desse campo para a Zona Newbie dever�
ser 18699.

   VIDA
   � o tempo em minutos (da vida real) que leva para que a �rea seja
recolocada.  Ao atingir este tempo, todos os comandos do arquivo de �rea s�o
re-executados, a fim de recarregar os monstros e objetos nas salas que comp�e
a �rea.

   MODO
   � o modo como a �rea ser� recolocada.  Pode ter os valores 0, 1 e 2, sendo:

   0  Nunca recolocar a �rea.  Neste caso, o tempo de vida da �rea n�o �
      usado.  A �rea s� � recolocada uma �nica vez, quando o MUD se inicia.

   1  A �rea ser� recolocada ap�s atingir seu tempo de vida, e ap�s tornar-se
      deserta.  Isto torna a �rea mais "honesta", porque ir� evitar que
      monstros dif�ceis apare�am at� que todos deixem a �rea.  Em �reas muito
      movimentadas, isso pode impedir que esta seja recolocada.

   2  Recoloca a �rea assim que ela atingir seu tempo de vida, independente de
      haver ou n�o pessoas nela.  Este � o modo mais comum.

   FLAGS
   Define as flags especiais da �rea.  As flags especiais s�o descritas mais
adiante, na se��o "Flags".

   CLIMAS
   Caso voc� queira que esta �rea tenha um clima diferente do padr�o do jogo,
voc� deve especificar aqui uma se��o especial do arquivo contendo algumas
informa��es que definir�o estes par�metros.  O formato desta se��o � explicado
logo adiante em "Climas".

   COMANDOS
   Define os comandos que ser�o executados a cada recoloca��o da �rea.  Os
comandos s�o descritos mais adiante, na se��o "Comandos".


================================================================================
 Flags
--------------------------------------------------------------------------------

   a. CLOSED (1)
   A �rea � fechada.  N�o ser� poss�vel usar magias de transporte ('portal' e
'teleport') para chegar at� ela.

   b. NOASTRAL (2)
   A �rea � isolada.  N�o ser� poss�vel usar magias de transporte ('portal' e
'teleport') para entrar ou sair da �rea, mas poder� ser usado dentro da mesma
�rea.

   c. !RECALL (4)
   N�o ser� poss�vel usar a magia 'word of recall' para sair da �rea.

   d. !SUMMON (8)
   N�o ser� poss�vel convocar um personagem para dentro ou para fora da �rea.

   e. !LOAD (16)
   Se um jogador digitar QUIT dentro dessa �rea, ele ser� enviado para a
sala inicial quando retornar ao jogo, e n�o para a sala salva.

   f. SEPARATE (32)
   Separa as sub-�reas umas das outras.  Isso faz com que os comandos WHERE e
SHOUT encontrem jogadores dentro da mesma sub-�rea, ao inv�s da �rea toda.

   g. CLIMATE (64)
   Define que o arquivo possui uma se��o definindo os climas da �rea, logo
ap�s as flags.

   h. NOIMMORT (128)
   Imortais abaixo do n�vel LVL_GRGOD n�o podem entrar nesta �rea.

   i. QUEST (256)
   Esta �rea � uma �rea de quest (ainda n�o completamente implementado).

   j. GRID (512)
   A �rea est� "na grade", conectada ao mundo principal, e ser� mostrada
no comando 'areas'.

   k. NOBUILD (1024)
   Constru��o n�o � permitida nesta �rea.

   l. WORLDMAP (2048)
   Toda a �rea usa o sistema WORLDMAP por padr�o.


================================================================================
 Climas
--------------------------------------------------------------------------------

   O VitaliaMUD possui um sistema de clima baseado em press�o atmosf�rica e
temperatura, que permite 5 estados poss�veis: c�u aberto, nublado, chovendo,
trovejando e nevando.  Geralmente, o clima do jogo todo � homog�neo, ou seja,
se em uma determinada �rea est� chovendo, isso significa que em todas as
outras �reas tamb�m est� chovendo.  Contudo, � poss�vel dizer que uma
determinada �rea ter� seu pr�prio clima, independente do resto do jogo.

   Para isso, voc� deve especificar a flag CLIMATE (g, 64) no campo de flags,
e adicionar uma se��o especial ao arquivo de �rea.  Quando a flag e esta se��o
s�o omitidas, a �rea ter� o mesmo clima que o resto do jogo.

------------------------
 C <sub�rea> <tipo>
 ...
 S
------------------------

   Essa se��o adicional deve vir logo ap�s a linha que cont�m os campos TOPO,
VIDA, MODO e FLAGS.  Essa se��o consiste de um ou mais comandos 'C', onde cada
um especifica o clima de uma sub�rea ou da �rea toda; e termina com um comando
'S'.  Note que esse 'S' n�o � o mesmo usado para terminar o arquivo de �rea,
que dever� vir depois dos comandos de recoloca��o da �rea.

   Os campos do comando 'C' s�o:

   SUB�REA
   O n�mero da sub�rea que voc� quer definir o clima.  Por enquanto, o �nico
valor poss�vel para este campo � zero, para especificar o clima da �rea toda.

   TIPO
   O tipo do clima da �rea ou sub�rea.  Deve ser um nome de acordo com a
seguinte tabela:

	Tipo       | Press�o  | Umid | Vent | Temp
	-----------+----------+------+------+----------
	0. NEUTRAL | 1000 �15 | 0.50 | 0.00 | 25 �4 �C
	1. WINDY   | 1000 �20 | 0.40 | 0.98 | 22 �2 �C
	2. RAINY   |  980 �10 | 0.75 | 0.20 | 20 �2 �C
	3. SNOWY   |  975 � 5 | 0.25 | 0.50 | -5 �2 �C
	4. DESERT  | 1025 � 5 | 0.02 | 0.50 | 45 �3 �C

   O tipo NEUTRAL � o mesmo tipo de clima do resto do jogo.


================================================================================
 Comandos
--------------------------------------------------------------------------------

   Cada comando consiste de uma letra, identificando o tipo de comando,
seguido de tr�s ou quatro campos.  O primeiro campo, comum a todos os
comandos, � chamado de "flag-condicional".  Se a flag-condicional para um
comando for 1, o comando apenas ser� executado se o comando imediatamente
anterior for executado com sucesso.  Se a flag-condicional for 0, o comando
ser� sempre executado.  As flags-condicionais s�o �teis para, por exemplo,
equipar monstros: voc� n�o poder� equipar um monstro se voc� n�o conseguir
carreg�-lo.

   Os comandos que carregam monstros e objetos tamb�m incluem um campo
"limite", que define o n�mero m�ximo de c�pias que podem existir para aquele
objeto ou monstro no mundo todo.  Se o n�mero de c�pias j� existentes for
maior ou igual ao valor do limite, o comando n�o � executado.

   Os comandos reconhecidos atualmente pelo VitaliaMUD s�o:

   M: Carregar um monstro.
   Formato: M <flag-condicional> <vnum-mob> <limite> <vnum-sala>
      VNUM-MOB � o n�mero que identifica o monstro.  VNUM-SALA � o n�mero que
      identifica a sala onde o monstro ser� carregado.

   O: Carregar um objeto.
   Formato: O <flag-condicional> <vnum-obj> <limite> <vnum-sala>
      VNUM-OBJ � o n�mero que identifica o objeto.  VNUM-SALA � o n�mero que
      identifica a sala onde o objeto ser� carregado.  O objeto ser� deixado
      no ch�o da sala.

   G: Dar um objeto para o monstro.
   Formato: G <flag-condicional> <vnum-obj> <limite>
      VNUM-OBJ � o n�mero que identifica o objeto.  O objeto ser� carregado e
      ser� colocado no invent�rio do �ltimo monstro criado com o comando "M".

   E: Equipar um objeto no monstro.
   Formato: E <flag-condicional> <vnum-obj> <limite> <posi��o>
      VNUM-OBJ � o n�mero que identifica o objeto.  POSI��O � um n�mero que
      identifica a posi��o no corpo, sendo um dos seguintes:
       0  Usar como luz
       1  Usar no dedo anelar direito
       2  Usar no dedo anelar esquerdo
       3  Primeiro objeto em volta do pesco�o
       4  Segundo objeto em volta do pesco�o
       5  Vestir no corpo
       6  Vestir na cabe�a
       7  Vestir nas pernas
       8  Cal�ar nos p�s
       9  Vestir nas m�os
      10  Vestir nos bra�os
      11  Usar como escudo
      12  Vestir sobre o corpo
      13  Usar em volta da cintura
      14  Usar no pulso direito
      15  Usar no pulso esquerdo
      16  Empunhar
      17  Segurar
      18  Usar como asas
      19  Usar na orelha direita
      20  Usar na orelha esquerda
      21  Usar no rosto
      22  Usar no nariz
      23  Usar como ins�gnia
      24  Usar como aljava

   P: Colocar um objeto dentro de outro
   Formato: P <flag-condicional> <vnum-obj-1> <limite> <vnum-obj-2>
      Um objeto identificado por VNUM-OBJ-1 ser� carregado e posto dentro do
      �ltimo objeto identificado por VNUM-OBJ-2.

   D: Ajustar o estado de uma porta
   Formato: D <flag-condicional> <vnum-sala> <sa�da> <estado>
      VNUM-SALA � o n�mero da sala que possui a porta a ser ajustada.  SA�DA �
      o n�mero que identifica a porta, definida no arquivo de salas.  ESTADO �
      o estado que a porta dever� obter, sendo:
       0  Aberta
       1  Fechada
       2  Fechada e trancada
      Tome cuidado de ajustar ambos os lados da porta corretamente.  Fechar a
      sa�da norte de uma sala N�O fecha automaticamente a sa�da sul da sala
      adjacente.

   R: Remover objeto da sala
   Formato: R <flag-condicional> <vnum-sala> <vnum-obj>
      Se um objeto identificado com VNUM-OBJ existir na sala identificada com
      VNUM-SALA, ele ser� retirado da sala e destru�do.

   N: Verificar a presen�a de um monstro em uma sala
   Formato: C <flag-condicional> <vnum-sala> <vnum-mob>
      Esse comando n�o faz nada, s� verifica se o mob VNUM-MOB est� carregado
      e presente na sala VNUM-SALA. Se ele estiver carregado, esse comando
      resultar� em um "n�o-sucesso". Isso quer dizer que o pr�ximo comando
      pode ter a flag-condicional igual a um, para que n�o seja executado.
      Isso � �til para evitar que mobs sejam carregados em duplicidade em uma
      mesma sala.

   Qualquer linha que iniciar com um asterisco ('*') ser� considerado como um
coment�rio, e n�o ser� processada.  Tamb�m ser� ignorado qualquer texto que
for escrito na frente dos campos num�ricos.


================================================================================
 Exemplo
--------------------------------------------------------------------------------

#18
O Para�so~
1899 30 2 bd
*
* Colocar os monstros
*
M 0 1897 1 1897     colocar o guardi�o na entrada
G 1 1895 1          entregar a chave ao guardi�o
E 1 1892 1 16       entregar a arma ao guardi�o
*
* Colocar os objetos
*
R 0 1895 1881       retirar a fonte de �gua
O 0 1881 1 1895     carregar uma nova fonte de �gua
R 0 1892 1883       retirar o ba�
O 0 1883 1 1892	    carregar um novo ba�
P 1 1884 1 1883     carregar o tesouro dentro do ba�
*
* Ajustar as passagens
*
D 0 1897 0 2        fechar os port�es do para�so (lado de fora)
D 0 1898 2 2	    fechar os port�es do para�so (lado de dentro)
S


-> Fa�a com calma esse arquivo...  Para criar uma �rea, costuma-se fazer um
rascunho dela ou em um peda�o de papel ou desenhar no computador mesmo.
Quando for fazer o .zon, v� em cada sala, veja calmamente o que deseja por
nela, verifique as portas e assim, aos poucos, fa�a seu arquivo.  Erra-se
menos dessa maneira e fica muito mais f�cil de corrigir.  Tamb�m costume
escrever especificando o que cada comando deve fazer, pois isso tamb�m
minimiza erros e ajuda em poss�veis altera��es futuras.
